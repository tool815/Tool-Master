<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Splitter - Split and Extract Pages from PDFs Online</title>
    <meta name="description" content="Effortlessly split PDF files and extract specific pages with our free online PDF splitter tool. Fast, secure, and user-friendly.">
    <meta name="keywords" content="PDF splitter, split PDF, extract PDF pages, PDF tool, free PDF splitter, online PDF splitter">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            @apply bg-gray-50 text-gray-800;
        }
        /* Custom styles for responsiveness and aesthetics, if needed, beyond Tailwind */
        .ad-container {
            min-height: 100px; /* Minimum height for ad space */
            @apply bg-gray-200 flex items-center justify-center text-gray-500 text-sm rounded-lg p-4 my-8 mx-auto w-11/12 md:w-3/4 lg:w-1/2;
            border: 1px dashed #ccc;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg py-4 px-6 md:px-12 rounded-b-xl">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <h1 class="text-3xl md:text-4xl font-bold mb-2 md:mb-0">
                PDF <span class="text-blue-200">Splitter</span>
            </h1>
            <nav>
                <ul class="flex space-x-4">
                    <li><a href="#" class="hover:text-blue-200 transition duration-300">Home</a></li>
                    <li><a href="#" class="hover:text-blue-200 transition duration-300">About</a></li>
                    <li><a href="#" class="hover:text-blue-200 transition duration-300">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 md:py-12">

        <!-- Hero Section - Beautiful Front Page -->
        <section id="hero" class="relative bg-white rounded-2xl shadow-xl overflow-hidden mb-12 transform hover:scale-105 transition duration-500 ease-in-out">
            <img src="https://placehold.co/1200x400/3498db/ffffff?text=Split+PDFs+Easily" alt="PDF Splitter Hero Image" class="w-full h-64 md:h-96 object-cover">
            <div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center p-6 text-center">
                <div class="text-white">
                    <h2 class="text-3xl md:text-5xl font-extrabold mb-4 leading-tight">
                        Effortlessly Split Your <span class="text-blue-300">PDF Documents</span>
                    </h2>
                    <p class="text-lg md:text-xl mb-6 max-w-2xl mx-auto">
                        Quickly extract desired pages or split large PDFs into smaller, manageable files with our powerful and free online tool.
                    </p>
                    <button onclick="document.getElementById('file-upload').click()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full text-lg shadow-lg transform hover:scale-105 transition duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300">
                        Get Started - Split PDF Now!
                    </button>
                </div>
            </div>
        </section>

        <!-- AdSense Top Placeholder -->
        <section class="ad-container" id="adsense-top">
            <!-- Google AdSense Ad Unit (Top) -->
            <!-- Replace 'YOUR_ADSENSE_CLIENT_ID' and 'YOUR_ADSENSE_SLOT_ID_TOP' with your actual AdSense publisher ID and ad unit ID -->
            <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_CLIENT_ID" crossorigin="anonymous"></script> -->
            <!-- <ins class="adsbygoogle"
                 style="display:block; text-align:center;"
                 data-ad-layout="in-article"
                 data-ad-format="fluid"
                 data-ad-client="ca-pub-YOUR_ADSENSE_CLIENT_ID"
                 data-ad-slot="YOUR_ADSENSE_SLOT_ID_TOP"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script> -->
            <p>Advertisement Area (Top) - Insert your Google AdSense code here.</p>
        </section>

        <!-- PDF Splitter Tool Section -->
        <section id="splitter-tool" class="bg-white rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 transform hover:shadow-2xl transition duration-300 ease-in-out">
            <h3 class="text-2xl md:text-3xl font-bold text-center text-gray-900 mb-8">Split Your PDF</h3>

            <div class="flex flex-col items-center justify-center space-y-6">
                <input type="file" id="file-upload" accept=".pdf" class="hidden" />
                <label for="file-upload" class="cursor-pointer bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold py-4 px-10 rounded-full text-lg shadow-lg hover:from-purple-700 hover:to-indigo-700 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-300">
                    <svg class="w-6 h-6 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg>
                    Upload PDF
                </label>
                <p id="file-name" class="text-gray-600 text-center"></p>

                <div id="splitter-options" class="w-full max-w-xl hidden space-y-4">
                    <div class="bg-gray-100 rounded-lg p-4 border border-gray-200">
                        <label for="page-range" class="block text-gray-700 font-medium mb-2">
                            Enter Page Range to Extract (e.g., 1-5, 7, 10-12):
                        </label>
                        <input type="text" id="page-range" placeholder="e.g., 1-5, 8, 10-12" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-200 shadow-sm" />
                        <p class="text-sm text-gray-500 mt-2">
                            Separate multiple ranges/pages with commas. Leave blank to split every page into a separate PDF.
                        </p>
                    </div>

                    <button id="split-pdf-btn" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg transform hover:scale-105 transition duration-300 focus:outline-none focus:ring-4 focus:ring-green-300">
                        <svg class="w-6 h-6 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V6m3 10l3-3m-3 3l-3-3m0 0a3 3 0 100-6 3 3 0 000 6z"></path></svg>
                        Split PDF
                    </button>

                    <div id="message-box" class="hidden bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded-lg relative mt-4" role="alert">
                        <strong class="font-bold">Info:</strong>
                        <span class="block sm:inline" id="message-text"></span>
                    </div>

                    <div id="download-area" class="mt-6 space-y-4 hidden">
                        <h4 class="text-xl font-semibold text-gray-800 text-center">Your Split PDFs:</h4>
                        <div id="download-links" class="flex flex-wrap justify-center gap-4">
                            <!-- Download links will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AdSense Middle Placeholder -->
        <section class="ad-container" id="adsense-middle">
            <!-- Google AdSense Ad Unit (Middle) -->
            <!-- Replace 'YOUR_ADSENSE_CLIENT_ID' and 'YOUR_ADSENSE_SLOT_ID_MIDDLE' with your actual AdSense publisher ID and ad unit ID -->
            <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_CLIENT_ID" crossorigin="anonymous"></script> -->
            <!-- <ins class="adsbygoogle"
                 style="display:block; text-align:center;"
                 data-ad-layout="in-article"
                 data-ad-format="fluid"
                 data-ad-client="ca-pub-YOUR_ADSENSE_CLIENT_ID"
                 data-ad-slot="YOUR_ADSENSE_SLOT_ID_MIDDLE"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script> -->
            <p>Advertisement Area (Middle) - Insert your Google AdSense code here.</p>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 px-4 md:px-8 rounded-t-xl mt-12">
        <div class="container mx-auto text-center text-sm">
            <p>&copy; 2024 PDF Splitter Tool. All rights reserved.</p>
            <p class="mt-2">
                <a href="#" class="hover:text-blue-400 transition duration-300">Privacy Policy</a> |
                <a href="#" class="hover:text-blue-400 transition duration-300">Terms of Service</a>
            </p>
        </div>
    </footer>

    <!-- PDF-LIB CDN for client-side PDF manipulation -->
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>

    <script>
        const fileUpload = document.getElementById('file-upload');
        const fileNameDisplay = document.getElementById('file-name');
        const splitterOptions = document.getElementById('splitter-options');
        const pageRangeInput = document.getElementById('page-range');
        const splitPdfBtn = document.getElementById('split-pdf-btn');
        const messageBox = document.getElementById('message-box');
        const messageText = document.getElementById('message-text');
        const downloadArea = document.getElementById('download-area');
        const downloadLinksDiv = document.getElementById('download-links');

        let uploadedPdfBytes = null;
        let pdfDoc = null; // To store the PDFDocument object

        // Function to display messages to the user
        function showMessage(text, type = 'info') {
            messageText.textContent = text;
            messageBox.classList.remove('hidden');
            // Remove previous type classes
            messageBox.classList.remove('bg-blue-100', 'border-blue-400', 'text-blue-700');
            messageBox.classList.remove('bg-red-100', 'border-red-400', 'text-red-700');
            messageBox.classList.remove('bg-green-100', 'border-green-400', 'text-green-700');

            // Add new type classes
            if (type === 'error') {
                messageBox.classList.add('bg-red-100', 'border-red-400', 'text-red-700');
            } else if (type === 'success') {
                messageBox.classList.add('bg-green-100', 'border-green-400', 'text-green-700');
            } else { // default info
                messageBox.classList.add('bg-blue-100', 'border-blue-400', 'text-blue-700');
            }
        }

        // Function to hide messages
        function hideMessage() {
            messageBox.classList.add('hidden');
            messageText.textContent = '';
        }

        // Function to clear download links
        function clearDownloadLinks() {
            downloadLinksDiv.innerHTML = '';
            downloadArea.classList.add('hidden');
        }

        // Event listener for file upload
        fileUpload.addEventListener('change', async (event) => {
            const file = event.target.files[0];
            clearDownloadLinks(); // Clear previous downloads
            hideMessage(); // Hide any previous messages

            if (file) {
                fileNameDisplay.textContent = `Selected file: ${file.name}`;
                showMessage('Loading PDF...', 'info');
                try {
                    uploadedPdfBytes = await file.arrayBuffer();
                    pdfDoc = await PDFLib.PDFDocument.load(uploadedPdfBytes);
                    splitterOptions.classList.remove('hidden');
                    showMessage(`PDF loaded successfully! Total pages: ${pdfDoc.getPageCount()}`, 'success');
                } catch (error) {
                    console.error('Error loading PDF:', error);
                    showMessage('Failed to load PDF. Please ensure it is a valid PDF file.', 'error');
                    fileNameDisplay.textContent = '';
                    splitterOptions.classList.add('hidden');
                    uploadedPdfBytes = null;
                    pdfDoc = null;
                }
            } else {
                fileNameDisplay.textContent = '';
                splitterOptions.classList.add('hidden');
                uploadedPdfBytes = null;
                pdfDoc = null;
                hideMessage();
            }
        });

        // Event listener for split PDF button
        splitPdfBtn.addEventListener('click', async () => {
            if (!pdfDoc) {
                showMessage('Please upload a PDF file first.', 'error');
                return;
            }

            hideMessage();
            clearDownloadLinks();
            showMessage('Splitting PDF...', 'info');

            const pageRange = pageRangeInput.value.trim();
            const totalPages = pdfDoc.getPageCount();
            let pagesToSplit = []; // Array of arrays, e.g., [[0], [1, 2], [5]] for individual pages or ranges

            if (pageRange === '') {
                // Split every page into a separate PDF
                for (let i = 0; i < totalPages; i++) {
                    pagesToSplit.push([i]); // Each page is an individual split
                }
            } else {
                // Parse user-defined page ranges
                const parts = pageRange.split(',').map(p => p.trim()).filter(p => p !== '');
                for (const part of parts) {
                    if (part.includes('-')) {
                        const [start, end] = part.split('-').map(Number);
                        if (isNaN(start) || isNaN(end) || start < 1 || end > totalPages || start > end) {
                            showMessage(`Invalid page range: ${part}. Please use valid numbers within 1-${totalPages}.`, 'error');
                            return;
                        }
                        // Adjust to 0-indexed for pdf-lib
                        const range = [];
                        for (let i = start - 1; i < end; i++) {
                            range.push(i);
                        }
                        pagesToSplit.push(range);
                    } else {
                        const pageNum = Number(part);
                        if (isNaN(pageNum) || pageNum < 1 || pageNum > totalPages) {
                            showMessage(`Invalid page number: ${part}. Please use a valid number within 1-${totalPages}.`, 'error');
                            return;
                        }
                        // Adjust to 0-indexed
                        pagesToSplit.push([pageNum - 1]);
                    }
                }
                if (pagesToSplit.length === 0) {
                    showMessage('No valid page ranges or numbers entered. Please check your input.', 'error');
                    return;
                }
            }

            try {
                // Iterate through the requested splits
                for (let i = 0; i < pagesToSplit.length; i++) {
                    const pagesIndices = pagesToSplit[i];
                    const newPdfDoc = await PDFLib.PDFDocument.create();
                    const copiedPages = await newPdfDoc.copyPages(pdfDoc, pagesIndices);
                    copiedPages.forEach(page => newPdfDoc.addPage(page));

                    const pdfBytes = await newPdfDoc.save();
                    const blob = new Blob([pdfBytes], { type: 'application/pdf' });
                    const url = URL.createObjectURL(blob);

                    // Determine file name for download
                    let downloadFileName = fileNameDisplay.textContent.replace('Selected file: ', '').replace('.pdf', '');
                    if (pageRange === '') {
                        // For splitting every page
                        downloadFileName += `-page-${pagesIndices[0] + 1}.pdf`;
                    } else if (pagesIndices.length === 1) {
                        // For single page extraction
                        downloadFileName += `-page-${pagesIndices[0] + 1}.pdf`;
                    } else {
                        // For range extraction
                        downloadFileName += `-pages-${pagesIndices[0] + 1}-${pagesIndices[pagesIndices.length - 1] + 1}.pdf`;
                    }


                    const downloadLink = document.createElement('a');
                    downloadLink.href = url;
                    downloadLink.download = downloadFileName;
                    downloadLink.classList.add('inline-block', 'bg-blue-500', 'hover:bg-blue-600', 'text-white', 'font-bold', 'py-2', 'px-4', 'rounded-lg', 'text-sm', 'shadow-md', 'transform', 'hover:scale-105', 'transition', 'duration-300');
                    downloadLink.textContent = `Download ${downloadFileName}`;
                    downloadLinksDiv.appendChild(downloadLink);
                }

                downloadArea.classList.remove('hidden');
                showMessage('PDF(s) split successfully!', 'success');
            } catch (error) {
                console.error('Error splitting PDF:', error);
                showMessage('An error occurred while splitting the PDF. Please try again.', 'error');
            }
        });
    </script>
</body>
</html>
